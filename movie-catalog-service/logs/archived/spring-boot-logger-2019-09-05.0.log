2019-09-05 09:21:59,030 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$96fd3afb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:21:59,121 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 09:22:00,820 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 09:22:00,824 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 09:22:00,824 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 09:22:00,826 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 09:22:00,846 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 09:22:02,612 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 09:22:02,932 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$96fd3afb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:22:03,748 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 09:22:03,797 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:22:03,823 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 09:22:03,824 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 09:22:03,916 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 09:22:03,917 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3063 ms
2019-09-05 09:22:05,999 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 09:22:08,212 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:22:08,215 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:22:08,237 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 09:22:08,443 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 09:22:08,572 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 09:22:08,579 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 13.444 seconds (JVM running for 14.326)
2019-09-05 09:22:09,008 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(1)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 09:22:09,008 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 09:22:09,021 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(1)-127.0.0.1] Completed initialization in 12 ms
2019-09-05 09:22:26,632 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-05 09:22:26,718 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 09:22:26,799 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 61d5a8999b51a28:e04ac9932d7e9be8:61d5a8999b51a28:1 - ratingsDataService.requestService
2019-09-05 09:22:26,800 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 61d5a8999b51a28:61d5a8999b51a28:0:1 - /catalog/{userId}
2019-09-05 09:22:27,956 ERROR br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://ratings-data-service-cluster-ip-service:8083/ratingsdata/user/test": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at br.com.clarobr.moviecatalogservice.connectors.RatingsDataServiceConnector.requestRatingsDataService(RatingsDataServiceConnector.java:84)
	at br.com.clarobr.moviecatalogservice.connectors.RatingsDataServiceConnector$$FastClassBySpringCGLIB$$4780ec6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.RatingsDataServiceConnector$$EnhancerBySpringCGLIB$$90a01baf.requestRatingsDataService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.RatingsDataService.requestServiceCircuitBreaker(RatingsDataService.java:103)
	at br.com.clarobr.moviecatalogservice.services.RatingsDataService.lambda$requestService$1(RatingsDataService.java:78)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-05 09:22:27,957 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 09:22:27,987 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 61d5a8999b51a28:ef85a1ed41201a84:61d5a8999b51a28:1 - movieInfoService.requestService
2019-09-05 09:22:27,990 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:22:27,990 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 61d5a8999b51a28:1d4eb5f786d96554:61d5a8999b51a28:1 - ratingsDataService.handleResponseUserRating
2019-09-05 09:22:29,004 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:75)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$f1917f29.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-05 09:22:29,005 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:75)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$f1917f29.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-05 09:22:29,006 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 09:22:29,007 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 09:24:18,983 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-5] Found correlationId in Header : 12345678
2019-09-05 09:24:18,994 INFO io.jaegertracing.Configuration [http-nio-8081-exec-5] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 09:24:18,995 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-5] Span reported: 193c1a6a3a5a789b:9ab90c1c838ea904:193c1a6a3a5a789b:1 - ratingsDataService.requestService
2019-09-05 09:24:18,995 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-5] Span reported: 193c1a6a3a5a789b:193c1a6a3a5a789b:0:1 - /catalog/{userId}
2019-09-05 09:24:24,155 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 193c1a6a3a5a789b:add06ef9a65521bc:193c1a6a3a5a789b:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 09:24:24,156 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 09:24:24,157 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 193c1a6a3a5a789b:b88fda2acca4567b:193c1a6a3a5a789b:1 - movieInfoService.requestService
2019-09-05 09:24:24,158 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:24:24,158 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 193c1a6a3a5a789b:4eec4808d755ca6f:193c1a6a3a5a789b:1 - ratingsDataService.handleResponseUserRating
2019-09-05 09:24:29,279 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 193c1a6a3a5a789b:473a5e34e327a305:193c1a6a3a5a789b:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 09:24:29,280 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 09:24:29,280 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-05 09:24:29,281 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 09:24:29,287 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:24:29,288 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:27:00,636 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-05 09:28:39,517 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(16)-127.0.0.1] Application shutdown requested.
2019-09-05 09:28:39,523 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(16)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 09:28:39,527 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:28:39,534 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 09:28:39,537 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 09:28:39,574 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:39,574 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 09:28:39,575 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:39,575 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:39,576 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:39,577 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:39,577 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 09:28:39,579 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 09:28:39,580 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 09:28:48,149 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$be5d7a5f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:28:48,195 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 09:28:49,607 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 09:28:49,610 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 09:28:49,611 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 09:28:49,613 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 09:28:49,635 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 09:28:50,324 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 09:28:50,548 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$be5d7a5f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:28:50,784 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 09:28:50,793 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:28:50,800 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 09:28:50,800 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 09:28:50,867 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 09:28:50,867 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1224 ms
2019-09-05 09:28:51,843 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 09:28:53,309 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:53,315 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:28:53,357 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 09:28:53,535 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 09:28:53,558 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 09:28:53,559 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 09:28:53,579 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 09:28:53,585 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.674 seconds (JVM running for 7.224)
2019-09-05 09:28:53,587 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 28 ms
2019-09-05 09:29:01,433 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 09:29:01,488 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 09:29:01,533 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 53f57e49be82d0cd:d992fd61e0e73c35:53f57e49be82d0cd:1 - ratingsDataService.requestService
2019-09-05 09:29:01,535 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 53f57e49be82d0cd:53f57e49be82d0cd:0:1 - /catalog/{userId}
2019-09-05 09:29:06,706 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 53f57e49be82d0cd:83e14dbbd724e953:53f57e49be82d0cd:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 09:29:06,709 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 09:29:06,722 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 53f57e49be82d0cd:afb71039b2839f83:53f57e49be82d0cd:1 - movieInfoService.requestService
2019-09-05 09:29:06,726 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:29:06,726 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 53f57e49be82d0cd:cdca7248ad083bff:53f57e49be82d0cd:1 - ratingsDataService.handleResponseUserRating
2019-09-05 09:29:11,747 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 53f57e49be82d0cd:1915ff0f92cfc800:53f57e49be82d0cd:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 09:29:11,750 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:29:11,752 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 09:29:11,754 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 09:29:11,807 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:29:11,810 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:31:08,797 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(15)-127.0.0.1] Application shutdown requested.
2019-09-05 09:31:08,809 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(15)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 09:31:08,819 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:31:08,829 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 09:31:08,833 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 09:31:08,846 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:31:08,849 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 09:31:08,852 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:31:08,854 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:31:08,856 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:31:08,862 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 09:31:08,867 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 09:31:14,843 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$f6475756] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:31:14,898 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 09:31:16,437 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 09:31:16,439 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 09:31:16,440 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 09:31:16,441 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 09:31:16,465 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 09:31:17,219 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 09:31:17,384 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$f6475756] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:31:17,602 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 09:31:17,610 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:31:17,616 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 09:31:17,617 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 09:31:17,676 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 09:31:17,676 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1204 ms
2019-09-05 09:31:18,691 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 09:31:20,254 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:31:20,259 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:31:20,294 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 09:31:20,395 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 09:31:20,408 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 09:31:20,409 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.489 seconds (JVM running for 6.919)
2019-09-05 09:31:26,102 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 09:31:26,103 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-05 09:31:26,131 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 27 ms
2019-09-05 09:31:26,143 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 09:31:26,226 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 09:31:26,285 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: ab77bbd76f76310c:284f6d098ea18e7c:ab77bbd76f76310c:1 - ratingsDataService.requestService
2019-09-05 09:31:26,292 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: ab77bbd76f76310c:ab77bbd76f76310c:0:1 - /catalog/{userId}
2019-09-05 09:31:31,397 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: ab77bbd76f76310c:3aed8a681448e0c1:ab77bbd76f76310c:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 09:31:31,399 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 09:31:31,407 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: ab77bbd76f76310c:d83be0d2cbf4170b:ab77bbd76f76310c:1 - movieInfoService.requestService
2019-09-05 09:31:31,410 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:31:31,411 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: ab77bbd76f76310c:d447ef2d88f66cae:ab77bbd76f76310c:1 - ratingsDataService.handleResponseUserRating
2019-09-05 09:31:36,422 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: ab77bbd76f76310c:85804667469cb3e4:ab77bbd76f76310c:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 09:31:36,423 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:31:36,424 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 09:31:36,424 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 09:31:36,432 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:31:36,432 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:33:04,282 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2019-09-05 09:33:04,290 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(14)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 09:33:04,295 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:04,302 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 09:33:04,305 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 09:33:04,311 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:04,312 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 09:33:04,314 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:04,315 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:04,317 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:04,318 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:04,318 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:04,320 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:04,323 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:10,148 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$888ba1f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:33:10,224 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 09:33:11,644 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 09:33:11,648 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 09:33:11,648 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 09:33:11,650 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 09:33:11,672 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 09:33:12,532 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 09:33:12,676 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$888ba1f7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 09:33:12,891 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 09:33:12,903 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:12,910 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 09:33:12,910 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 09:33:12,974 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 09:33:12,975 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1293 ms
2019-09-05 09:33:13,919 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 09:33:15,352 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:15,353 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:15,370 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 09:33:15,471 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:15,481 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 09:33:15,483 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.34 seconds (JVM running for 6.752)
2019-09-05 09:33:23,470 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 09:33:23,471 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-05 09:33:23,488 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 16 ms
2019-09-05 09:33:23,500 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 09:33:23,569 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 09:33:23,616 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 80a378d12a5ffc15:d65c7b0cf65b670f:80a378d12a5ffc15:1 - ratingsDataService.requestService
2019-09-05 09:33:23,618 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 80a378d12a5ffc15:80a378d12a5ffc15:0:1 - /catalog/{userId}
2019-09-05 09:33:28,747 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 80a378d12a5ffc15:417b09e9547900e4:80a378d12a5ffc15:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 09:33:28,748 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 09:33:28,753 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 80a378d12a5ffc15:8e8a3c917e0a5535:80a378d12a5ffc15:1 - movieInfoService.requestService
2019-09-05 09:33:28,757 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 09:33:28,758 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 80a378d12a5ffc15:b5a974c4468cd289:80a378d12a5ffc15:1 - ratingsDataService.handleResponseUserRating
2019-09-05 09:33:33,772 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 80a378d12a5ffc15:4d55da30a6a63c44:80a378d12a5ffc15:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 09:33:33,774 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-05 09:33:33,780 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 09:33:33,781 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 09:33:33,797 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:33:33,798 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 09:33:49,422 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(13)-127.0.0.1] Application shutdown requested.
2019-09-05 09:33:49,433 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(13)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 09:33:49,436 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:49,443 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 09:33:49,444 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 09:33:49,447 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:49,448 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 09:33:49,449 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:49,449 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:49,450 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:49,450 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:49,451 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 09:33:49,452 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 09:33:49,454 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:24:13,819 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$8614ab4c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:24:13,872 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:24:13,968 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:24:13,970 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:24:13,970 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:24:13,972 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:24:14,003 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:24:14,513 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 10:24:14,776 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$8614ab4c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:24:15,027 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:24:15,042 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:24:15,053 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:24:15,053 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:24:15,136 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:24:15,137 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1126 ms
2019-09-05 10:24:16,290 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:24:16,772 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure
java.net.ConnectException: Failed to connect to /35.225.5.157:443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:225)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:195)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.BackwardsCompatibilityInterceptor.intercept(BackwardsCompatibilityInterceptor.java:119)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.ImpersonatorInterceptor.intercept(ImpersonatorInterceptor.java:66)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.HttpClientUtils$2.intercept(HttpClientUtils.java:107)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Network is unreachable (connect failed)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:124)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
	... 30 common frames omitted
2019-09-05 10:24:16,773 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Failed to start websocket
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:204)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onFailure(RealWebSocket.java:208)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:148)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Failed to connect to /35.225.5.157:443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:225)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:195)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.BackwardsCompatibilityInterceptor.intercept(BackwardsCompatibilityInterceptor.java:119)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.ImpersonatorInterceptor.intercept(ImpersonatorInterceptor.java:66)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.HttpClientUtils$2.intercept(HttpClientUtils.java:107)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
	... 4 common frames omitted
Caused by: java.net.ConnectException: Network is unreachable (connect failed)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:124)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
	... 30 common frames omitted
2019-09-05 10:24:16,792 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:24:16,903 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:24:16,913 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:24:16,915 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 4.052 seconds (JVM running for 4.5)
2019-09-05 10:24:20,312 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:24:20,313 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:24:20,325 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 12 ms
2019-09-05 10:24:37,824 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 10:24:37,925 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:24:43,110 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 493c75af7f48c62:cecbe2f3dab42cb:493c75af7f48c62:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:24:43,114 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [http-nio-8081-exec-2] ratings-data-service were retrieved successfully.
2019-09-05 10:24:43,116 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 493c75af7f48c62:cf907cb9d4efe86e:493c75af7f48c62:1 - ratingsDataService.requestService
2019-09-05 10:24:43,117 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 493c75af7f48c62:493c75af7f48c62:0:1 - /catalog/{userId}
2019-09-05 10:25:32,855 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(15)-127.0.0.1] Application shutdown requested.
2019-09-05 10:25:32,859 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(15)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:25:32,862 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:25:32,869 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:25:32,871 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:25:32,873 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:25:32,874 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:25:32,875 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:25:32,894 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:25:37,760 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e91e2635] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:25:37,817 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:25:37,946 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:25:37,948 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:25:37,948 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:25:37,949 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:25:37,968 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:25:38,530 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 10:25:38,816 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e91e2635] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:25:39,102 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:25:39,123 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:25:39,129 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:25:39,130 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:25:39,232 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:25:39,233 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1255 ms
2019-09-05 10:25:40,513 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:25:40,919 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure
java.net.ConnectException: Failed to connect to /35.225.5.157:443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:225)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:195)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.BackwardsCompatibilityInterceptor.intercept(BackwardsCompatibilityInterceptor.java:119)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.ImpersonatorInterceptor.intercept(ImpersonatorInterceptor.java:66)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.HttpClientUtils$2.intercept(HttpClientUtils.java:107)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Network is unreachable (connect failed)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:124)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
	... 30 common frames omitted
2019-09-05 10:25:40,920 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Failed to start websocket
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:204)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onFailure(RealWebSocket.java:208)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:148)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Failed to connect to /35.225.5.157:443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:225)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:195)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.BackwardsCompatibilityInterceptor.intercept(BackwardsCompatibilityInterceptor.java:119)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.ImpersonatorInterceptor.intercept(ImpersonatorInterceptor.java:66)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.HttpClientUtils$2.intercept(HttpClientUtils.java:107)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
	... 4 common frames omitted
Caused by: java.net.ConnectException: Network is unreachable (connect failed)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:124)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
	... 30 common frames omitted
2019-09-05 10:25:40,944 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:25:41,048 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:25:41,067 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:25:41,069 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 4.202 seconds (JVM running for 4.543)
2019-09-05 10:25:41,558 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:25:41,559 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:25:41,577 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 18 ms
2019-09-05 10:25:47,235 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-05 10:25:47,285 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:25:52,415 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 95fa4bd7a28f0381:58c2adedae6d6635:95fa4bd7a28f0381:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:25:52,422 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [http-nio-8081-exec-1] ratings-data-service were retrieved successfully.
2019-09-05 10:25:52,425 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 95fa4bd7a28f0381:e95aca22da75c358:95fa4bd7a28f0381:1 - ratingsDataService.requestService
2019-09-05 10:25:52,427 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 95fa4bd7a28f0381:95fa4bd7a28f0381:0:1 - /catalog/{userId}
2019-09-05 10:27:08,426 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-5] Found correlationId in Header : 12345678
2019-09-05 10:27:08,432 INFO io.jaegertracing.Configuration [http-nio-8081-exec-5] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:27:13,447 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-5] Span reported: 1866b4a9eebb3cb2:ba049775436f3dba:1866b4a9eebb3cb2:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:27:13,450 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [http-nio-8081-exec-5] ratings-data-service were retrieved successfully.
2019-09-05 10:27:13,451 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-5] Span reported: 1866b4a9eebb3cb2:10e03f591ada5776:1866b4a9eebb3cb2:1 - ratingsDataService.requestService
2019-09-05 10:27:13,454 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-5] Span reported: 1866b4a9eebb3cb2:1866b4a9eebb3cb2:0:1 - /catalog/{userId}
2019-09-05 10:27:55,444 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2019-09-05 10:27:55,452 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(14)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:27:55,457 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:27:55,464 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:27:55,466 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:27:55,469 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:27:55,470 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:27:55,470 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:27:55,471 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:27:55,473 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:27:55,475 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:27:58,910 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5598ebc3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:27:58,972 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:27:59,082 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:27:59,086 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:27:59,087 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:27:59,088 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:27:59,104 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:27:59,698 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 10:27:59,965 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5598ebc3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:28:00,282 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:28:00,296 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:28:00,303 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:28:00,303 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:28:00,376 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:28:00,376 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1266 ms
2019-09-05 10:28:01,549 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:28:01,998 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure
java.net.ConnectException: Failed to connect to /35.225.5.157:443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:225)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:195)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.BackwardsCompatibilityInterceptor.intercept(BackwardsCompatibilityInterceptor.java:119)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.ImpersonatorInterceptor.intercept(ImpersonatorInterceptor.java:66)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.HttpClientUtils$2.intercept(HttpClientUtils.java:107)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Network is unreachable (connect failed)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:124)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
	... 30 common frames omitted
2019-09-05 10:28:01,999 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Failed to start websocket
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:204)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onFailure(RealWebSocket.java:208)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:148)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Failed to connect to /35.225.5.157:443
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:225)
	at okhttp3.internal.connection.RealConnection.connect(RealConnection.java:149)
	at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:195)
	at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:121)
	at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:100)
	at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:120)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.BackwardsCompatibilityInterceptor.intercept(BackwardsCompatibilityInterceptor.java:119)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.ImpersonatorInterceptor.intercept(ImpersonatorInterceptor.java:66)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at io.fabric8.kubernetes.client.utils.HttpClientUtils$2.intercept(HttpClientUtils.java:107)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)
	at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)
	at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)
	... 4 common frames omitted
Caused by: java.net.ConnectException: Network is unreachable (connect failed)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at okhttp3.internal.platform.Platform.connectSocket(Platform.java:124)
	at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:223)
	... 30 common frames omitted
2019-09-05 10:28:02,023 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:28:02,137 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:28:02,149 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:28:02,150 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 4.261 seconds (JVM running for 4.663)
2019-09-05 10:28:03,984 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:28:03,984 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:28:03,997 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 13 ms
2019-09-05 10:28:04,781 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 10:28:04,835 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:28:09,952 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 85e4e5e08dcc25fa:c62cfc48cdc3085b:85e4e5e08dcc25fa:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:28:09,956 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [http-nio-8081-exec-2] ratings-data-service were retrieved successfully.
2019-09-05 10:28:09,958 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 85e4e5e08dcc25fa:3e91bfb84d4fe3c2:85e4e5e08dcc25fa:1 - ratingsDataService.requestService
2019-09-05 10:28:09,959 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 85e4e5e08dcc25fa:85e4e5e08dcc25fa:0:1 - /catalog/{userId}
2019-09-05 10:34:51,791 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(20)-127.0.0.1] Application shutdown requested.
2019-09-05 10:34:51,803 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(20)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:34:51,806 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:34:51,813 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:34:51,814 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:34:51,818 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:34:51,818 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:34:51,820 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:34:51,823 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:34:58,524 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$86c00764] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:34:58,591 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:35:00,774 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:35:00,777 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:35:00,777 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:35:00,778 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:35:00,793 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:35:01,364 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 10:35:01,526 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$86c00764] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:35:01,753 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:35:01,762 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:35:01,768 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:35:01,768 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:35:01,829 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:35:01,829 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1030 ms
2019-09-05 10:35:02,724 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:35:04,715 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:04,720 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:04,761 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:35:04,883 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:35:04,896 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:35:04,898 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 7.713 seconds (JVM running for 8.437)
2019-09-05 10:35:05,554 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(5)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:35:05,554 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:35:05,568 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(5)-127.0.0.1] Completed initialization in 14 ms
2019-09-05 10:35:09,627 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 10:35:09,686 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:35:09,721 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 81ea102883243658:7e3065d62ce8cfcf:81ea102883243658:1 - ratingsDataService.requestService
2019-09-05 10:35:09,722 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 81ea102883243658:81ea102883243658:0:1 - /catalog/{userId}
2019-09-05 10:35:14,820 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 81ea102883243658:757a70e54f81e386:81ea102883243658:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:35:14,821 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 10:35:14,826 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 81ea102883243658:7f7260cd484840f7:81ea102883243658:1 - movieInfoService.requestService
2019-09-05 10:35:14,829 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 10:35:14,829 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 81ea102883243658:75842defd670b3b6:81ea102883243658:1 - ratingsDataService.handleResponseUserRating
2019-09-05 10:35:19,846 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 81ea102883243658:ae452fffad3bfcd6:81ea102883243658:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 10:35:19,847 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-05 10:35:19,849 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 10:35:19,850 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 10:35:19,889 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:35:19,892 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:35:21,477 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2019-09-05 10:35:21,490 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:35:21,501 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:35:21,511 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:35:21,520 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:35:21,533 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:21,535 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:35:21,538 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:21,541 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:21,543 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:21,544 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:21,547 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:35:21,553 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:35:21,569 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:38:17,096 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$aa9b800] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:38:17,153 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:38:19,865 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:38:19,868 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:38:19,868 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:38:19,869 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:38:19,884 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:38:20,441 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=07dba51a-03b6-3ce3-bff4-ed7505715f16
2019-09-05 10:38:20,590 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$aa9b800] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:38:20,816 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:38:20,826 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:38:20,833 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:38:20,833 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:38:20,896 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:38:20,896 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1007 ms
2019-09-05 10:38:21,772 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:38:24,089 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:38:24,094 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:38:24,135 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:38:24,270 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:38:24,271 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:38:24,300 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:38:24,303 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 32 ms
2019-09-05 10:38:24,332 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:38:24,335 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 8.159 seconds (JVM running for 8.539)
2019-09-05 10:38:29,159 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:38:29,238 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: aed68302237c58cf:69a4beb789f123b8:aed68302237c58cf:1 - ratingsDataService.requestService
2019-09-05 10:38:29,239 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: aed68302237c58cf:aed68302237c58cf:0:1 - /catalog/{userId}
2019-09-05 10:38:34,470 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: aed68302237c58cf:50da942328e5a3e5:aed68302237c58cf:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:38:34,473 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 10:38:34,483 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: aed68302237c58cf:bba4015ff0b36847:aed68302237c58cf:1 - movieInfoService.requestService
2019-09-05 10:38:34,486 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 10:38:34,487 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: aed68302237c58cf:50ac466cd418fc9c:aed68302237c58cf:1 - ratingsDataService.handleResponseUserRating
2019-09-05 10:38:39,496 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: aed68302237c58cf:e68b02e3ef043e8e:aed68302237c58cf:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 10:38:39,498 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 10:38:39,498 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-05 10:38:39,504 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 10:38:39,514 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:38:39,516 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:43:10,447 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(17)-127.0.0.1] Application shutdown requested.
2019-09-05 10:43:10,458 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(17)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:43:10,465 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:43:10,473 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:43:10,476 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:43:10,483 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:43:10,484 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:43:10,485 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:43:10,486 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:43:10,487 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:43:10,490 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:43:10,506 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:43:15,491 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a410f882] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:43:15,561 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:43:17,854 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:43:17,856 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:43:17,856 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:43:17,857 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:43:17,877 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:43:18,549 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=36753e79-dcd7-37bb-9afb-adc348cb19f6
2019-09-05 10:43:18,766 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a410f882] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:43:19,016 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:43:19,026 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:43:19,033 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:43:19,033 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:43:19,105 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:43:19,106 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1221 ms
2019-09-05 10:43:20,043 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:43:22,072 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:43:22,077 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:43:22,119 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:43:22,253 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:43:22,264 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:43:22,267 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 7.749 seconds (JVM running for 8.135)
2019-09-05 10:43:23,004 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:43:23,004 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(13)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:43:23,016 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(13)-127.0.0.1] Completed initialization in 11 ms
2019-09-05 10:43:27,255 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:43:27,315 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 21cbbb0f6fa82b5:5d538373c873fee9:21cbbb0f6fa82b5:1 - ratingsDataService.requestService
2019-09-05 10:43:27,317 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 21cbbb0f6fa82b5:21cbbb0f6fa82b5:0:1 - /catalog/{userId}
2019-09-05 10:43:32,458 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 21cbbb0f6fa82b5:dc7dbc12e14071e9:21cbbb0f6fa82b5:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:43:32,461 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 10:43:32,476 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 21cbbb0f6fa82b5:64fc934db814febc:21cbbb0f6fa82b5:1 - movieInfoService.requestService
2019-09-05 10:43:32,478 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 10:43:32,479 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 21cbbb0f6fa82b5:5d6e3280a57aa74e:21cbbb0f6fa82b5:1 - ratingsDataService.handleResponseUserRating
2019-09-05 10:43:37,496 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 21cbbb0f6fa82b5:db68132a6ac23d8:21cbbb0f6fa82b5:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 10:43:37,498 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 10:43:37,500 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 10:43:37,500 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 10:43:37,524 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:43:37,526 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:48:17,775 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-05 10:49:00,632 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(20)-127.0.0.1] Application shutdown requested.
2019-09-05 10:49:00,638 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(20)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:49:00,647 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:49:00,654 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:49:00,657 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:49:00,663 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:49:00,665 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:49:00,666 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:49:00,667 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:49:00,667 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:49:00,670 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:49:00,676 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(20)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:51:14,019 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b78fccdc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:51:14,067 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:51:15,845 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:51:15,848 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:51:15,848 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:51:15,850 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:51:15,871 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:51:16,434 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 10:51:16,588 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b78fccdc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:51:16,841 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:51:16,850 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:51:16,856 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:51:16,856 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:51:16,910 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:51:16,910 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1032 ms
2019-09-05 10:51:17,835 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:51:20,075 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:20,080 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:20,105 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:51:20,218 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:51:20,228 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:51:20,229 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 7.18 seconds (JVM running for 7.669)
2019-09-05 10:51:20,989 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:51:20,990 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(12)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:51:21,009 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(12)-127.0.0.1] Completed initialization in 15 ms
2019-09-05 10:51:22,542 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-3] Found correlationId in Header : 12345678
2019-09-05 10:51:22,618 INFO io.jaegertracing.Configuration [http-nio-8081-exec-3] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:51:22,662 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-3] Span reported: 37bb1f34137ca6ca:6447b145c7096c24:37bb1f34137ca6ca:1 - ratingsDataService.requestService
2019-09-05 10:51:22,664 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-3] Span reported: 37bb1f34137ca6ca:37bb1f34137ca6ca:0:1 - /catalog/{userId}
2019-09-05 10:51:27,934 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 37bb1f34137ca6ca:f035a863bdd5a4d1:37bb1f34137ca6ca:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:51:27,937 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 10:51:27,957 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 37bb1f34137ca6ca:86cca243b1dd9383:37bb1f34137ca6ca:1 - movieInfoService.requestService
2019-09-05 10:51:27,964 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 10:51:27,965 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 37bb1f34137ca6ca:ec519854ec0eed67:37bb1f34137ca6ca:1 - ratingsDataService.handleResponseUserRating
2019-09-05 10:51:32,009 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2019-09-05 10:51:32,038 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 10:51:32,048 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:51:32,054 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 10:51:32,058 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 10:51:32,070 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:32,074 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 10:51:32,078 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:32,080 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:32,083 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.net.SocketInputStream.socketRead0(Native Method)
 java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
 java.net.SocketInputStream.read(SocketInputStream.java:171)
 java.net.SocketInputStream.read(SocketInputStream.java:141)
 java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
 java.io.BufferedInputStream.read1(BufferedInputStream.java:286)
 java.io.BufferedInputStream.read(BufferedInputStream.java:345)
 sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:735)
 sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)
 sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1593)
 sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)
 java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)
 org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:82)
 org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
 org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
 org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
 org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
 org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
 br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:74)
 br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
 org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
 org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
 org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
 io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect$$Lambda$761/1110295286.apply(Unknown Source)
 io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
 io.github.resilience4j.circuitbreaker.CircuitBreaker$$Lambda$762/684212076.apply(Unknown Source)
 io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
 io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
 io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
 org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
 org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
 io.github.resilience4j.bulkhead.configure.BulkheadAspect$$Lambda$756/1404724047.apply(Unknown Source)
 io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
 io.github.resilience4j.bulkhead.Bulkhead$$Lambda$757/1417781889.apply(Unknown Source)
 io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
 io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
 io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
 org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
 org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
 io.github.resilience4j.retry.configure.RetryAspect$$Lambda$747/1997819805.apply(Unknown Source)
 io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
 io.github.resilience4j.retry.Retry$$Lambda$750/691684121.apply(Unknown Source)
 io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
 io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
 org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
 org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
 org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
 br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$984863e.requestMovieInfoService(<generated>)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService$$Lambda$796/2118487315.get(Unknown Source)
 io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
 io.github.resilience4j.circuitbreaker.CircuitBreaker$$Lambda$775/1828512413.get(Unknown Source)
 io.vavr.control.Try$$Lambda$776/524566942.apply(Unknown Source)
 io.vavr.control.Try.of(Try.java:75)
 io.vavr.control.Try.ofSupplier(Try.java:92)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$1(MovieInfoService.java:83)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService$$Lambda$791/812331463.subscribe(Unknown Source)
 io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
 io.reactivex.Observable.subscribe(Observable.java:12267)
 io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
 io.reactivex.Observable.subscribe(Observable.java:12267)
 io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
 io.reactivex.Observable.subscribe(Observable.java:12267)
 io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
 io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
 io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
 io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
 java.util.concurrent.FutureTask.run(FutureTask.java:266)
 java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
 java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:32,084 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:32,088 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.net.SocketInputStream.socketRead0(Native Method)
 java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
 java.net.SocketInputStream.read(SocketInputStream.java:171)
 java.net.SocketInputStream.read(SocketInputStream.java:141)
 java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
 java.io.BufferedInputStream.read1(BufferedInputStream.java:286)
 java.io.BufferedInputStream.read(BufferedInputStream.java:345)
 sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:735)
 sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)
 sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1593)
 sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1498)
 java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)
 org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:82)
 org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
 org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
 org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
 org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
 org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:579)
 br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:74)
 br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
 org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
 org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
 org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
 io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect$$Lambda$761/1110295286.apply(Unknown Source)
 io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
 io.github.resilience4j.circuitbreaker.CircuitBreaker$$Lambda$762/684212076.apply(Unknown Source)
 io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
 io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
 io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
 org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
 org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
 io.github.resilience4j.bulkhead.configure.BulkheadAspect$$Lambda$756/1404724047.apply(Unknown Source)
 io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
 io.github.resilience4j.bulkhead.Bulkhead$$Lambda$757/1417781889.apply(Unknown Source)
 io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
 io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
 io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
 org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
 org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
 io.github.resilience4j.retry.configure.RetryAspect$$Lambda$747/1997819805.apply(Unknown Source)
 io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
 io.github.resilience4j.retry.Retry$$Lambda$750/691684121.apply(Unknown Source)
 io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
 io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
 sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
 sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
 sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
 java.lang.reflect.Method.invoke(Method.java:498)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
 org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
 org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
 org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
 org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
 org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
 br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$984863e.requestMovieInfoService(<generated>)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService$$Lambda$796/2118487315.get(Unknown Source)
 io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
 io.github.resilience4j.circuitbreaker.CircuitBreaker$$Lambda$775/1828512413.get(Unknown Source)
 io.vavr.control.Try$$Lambda$776/524566942.apply(Unknown Source)
 io.vavr.control.Try.of(Try.java:75)
 io.vavr.control.Try.ofSupplier(Try.java:92)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$1(MovieInfoService.java:83)
 br.com.clarobr.moviecatalogservice.services.MovieInfoService$$Lambda$791/812331463.subscribe(Unknown Source)
 io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
 io.reactivex.Observable.subscribe(Observable.java:12267)
 io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
 io.reactivex.Observable.subscribe(Observable.java:12267)
 io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
 io.reactivex.Observable.subscribe(Observable.java:12267)
 io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
 io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
 io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
 io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
 java.util.concurrent.FutureTask.run(FutureTask.java:266)
 java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
 java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 10:51:32,092 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 10:51:32,097 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 10:58:59,695 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d581cfc7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:58:59,764 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 10:59:02,394 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 10:59:02,396 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 10:59:02,396 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 10:59:02,398 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 10:59:02,416 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 10:59:03,023 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 10:59:03,252 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d581cfc7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 10:59:03,543 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 10:59:03,553 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 10:59:03,559 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 10:59:03,559 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 10:59:03,634 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 10:59:03,635 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1212 ms
2019-09-05 10:59:04,618 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 10:59:06,911 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:59:06,913 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 10:59:06,928 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 10:59:07,053 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 10:59:07,084 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 10:59:07,087 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 8.338 seconds (JVM running for 8.863)
2019-09-05 10:59:07,218 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 10:59:07,218 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 10:59:07,271 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 52 ms
2019-09-05 10:59:11,986 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 10:59:12,088 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 10:59:12,142 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: afee0b8ab6d7f2bf:598a87d94452c4a1:afee0b8ab6d7f2bf:1 - ratingsDataService.requestService
2019-09-05 10:59:12,143 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: afee0b8ab6d7f2bf:afee0b8ab6d7f2bf:0:1 - /catalog/{userId}
2019-09-05 10:59:17,548 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: afee0b8ab6d7f2bf:afdfa24eec901a83:afee0b8ab6d7f2bf:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 10:59:17,549 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 10:59:17,560 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: afee0b8ab6d7f2bf:d54ef7d0d4eadbeb:afee0b8ab6d7f2bf:1 - movieInfoService.requestService
2019-09-05 10:59:17,564 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 10:59:17,565 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: afee0b8ab6d7f2bf:3849d23c5682e98e:afee0b8ab6d7f2bf:1 - ratingsDataService.handleResponseUserRating
2019-09-05 10:59:22,577 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: afee0b8ab6d7f2bf:9c99ab8fac3e258e:afee0b8ab6d7f2bf:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 10:59:22,579 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-05 10:59:22,582 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 10:59:22,582 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 10:59:22,675 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 10:59:22,675 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 1234 and user test","desc":"Description","rating":3}]
2019-09-05 11:04:02,314 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-05 11:17:06,917 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(29)-127.0.0.1] Application shutdown requested.
2019-09-05 11:17:06,935 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(29)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 11:17:06,945 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 11:17:06,972 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 11:17:06,990 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 11:17:07,021 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:17:07,022 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 11:17:07,023 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:17:07,025 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:17:07,026 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:17:07,038 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 11:17:07,050 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(29)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 11:17:18,014 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$afed098d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 11:17:18,072 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 11:17:22,034 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 11:17:22,053 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 11:17:22,053 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 11:17:22,055 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 11:17:22,069 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 11:17:23,166 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 11:17:23,468 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$afed098d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 11:17:23,812 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 11:17:23,851 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 11:17:23,861 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 11:17:23,862 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 11:17:23,937 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 11:17:23,938 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1842 ms
2019-09-05 11:17:25,145 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 11:17:28,743 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 11:17:28,765 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 11:17:28,791 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 11:17:28,902 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 11:17:28,902 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 11:17:28,949 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 46 ms
2019-09-05 11:17:28,988 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 11:17:29,066 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 11:17:29,069 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 14.923 seconds (JVM running for 18.038)
2019-09-05 11:19:00,752 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 11:19:00,964 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 11:19:01,114 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: a29e555b868fbf17:465855ec618dffcc:a29e555b868fbf17:1 - ratingsDataService.requestService
2019-09-05 11:19:01,115 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: a29e555b868fbf17:a29e555b868fbf17:0:1 - /catalog/{userId}
2019-09-05 11:19:06,706 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: a29e555b868fbf17:2bab7b38aa2477df:a29e555b868fbf17:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 11:19:06,709 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 11:19:06,719 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: a29e555b868fbf17:48c6e08d07a0519b:a29e555b868fbf17:1 - movieInfoService.requestService
2019-09-05 11:19:06,722 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 11:19:06,722 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: a29e555b868fbf17:ec473b8bdd99ea0:a29e555b868fbf17:1 - ratingsDataService.handleResponseUserRating
2019-09-05 11:19:11,753 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: a29e555b868fbf17:2619fc8caa55e37e:a29e555b868fbf17:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 11:19:11,754 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 11:19:11,755 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-05 11:19:11,755 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 11:19:11,764 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 11:19:11,767 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 11:22:21,951 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-05 11:27:07,762 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(21)-127.0.0.1] Application shutdown requested.
2019-09-05 11:27:07,865 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(21)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 11:27:07,879 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 11:27:07,888 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 11:27:07,893 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 11:27:07,897 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:27:07,898 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 11:27:07,899 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:27:07,900 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:27:07,900 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:27:07,903 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 11:27:07,906 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(21)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-05 11:32:26,724 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ec377eac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 11:32:26,808 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-05 11:32:29,334 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-05 11:32:29,338 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-05 11:32:29,339 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-05 11:32:29,341 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-05 11:32:29,366 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-05 11:32:30,149 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-05 11:32:30,391 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ec377eac] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-05 11:32:30,640 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-05 11:32:30,651 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-05 11:32:30,658 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-05 11:32:30,658 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-05 11:32:30,717 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-05 11:32:30,717 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1340 ms
2019-09-05 11:32:31,868 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-05 11:32:33,854 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 11:32:33,859 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-05 11:32:33,891 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-05 11:32:34,062 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(4)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-05 11:32:34,063 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-05 11:32:34,070 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-05 11:32:34,095 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(4)-127.0.0.1] Completed initialization in 30 ms
2019-09-05 11:32:34,105 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-05 11:32:34,108 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 9.133 seconds (JVM running for 9.654)
2019-09-05 11:32:47,715 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-05 11:32:47,814 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-05 11:32:48,144 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: b7c6788ba9042ed4:859692012bf8f471:b7c6788ba9042ed4:1 - ratingsDataService.requestService
2019-09-05 11:32:48,147 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: b7c6788ba9042ed4:b7c6788ba9042ed4:0:1 - /catalog/{userId}
2019-09-05 11:32:53,523 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: b7c6788ba9042ed4:2f0eca46b14be419:b7c6788ba9042ed4:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-05 11:32:53,525 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-05 11:32:53,597 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: b7c6788ba9042ed4:dc133ee541c54d4b:b7c6788ba9042ed4:1 - movieInfoService.requestService
2019-09-05 11:32:53,610 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 11:32:53,615 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: b7c6788ba9042ed4:cbd79210e04a47ca:b7c6788ba9042ed4:1 - ratingsDataService.handleResponseUserRating
2019-09-05 11:32:58,797 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-05 11:32:58,799 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-05 11:32:58,797 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: b7c6788ba9042ed4:358a06961f12d976:b7c6788ba9042ed4:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-05 11:32:58,802 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-05 11:32:58,824 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 1234 and user test","desc":"Description","rating":3}]
2019-09-05 11:32:58,826 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 1234 and user test","desc":"Description","rating":3},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-05 11:33:29,927 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2019-09-05 11:33:29,946 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(12)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-05 11:33:29,959 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-05 11:33:29,970 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping service [Tomcat]
2019-09-05 11:33:29,982 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-05 11:33:30,005 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:33:30,009 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-05 11:33:30,013 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:33:30,015 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:33:30,018 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:33:30,020 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:33:30,022 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-05 11:33:30,025 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-05 11:33:30,030 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
