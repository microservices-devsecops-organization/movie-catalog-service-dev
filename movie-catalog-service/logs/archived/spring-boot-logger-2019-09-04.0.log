2019-09-04 14:10:10,512 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$95016ea2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:10:10,582 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:10:12,564 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:10:12,567 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:10:12,567 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:10:12,571 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:10:12,592 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:10:14,433 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=36753e79-dcd7-37bb-9afb-adc348cb19f6
2019-09-04 14:10:14,678 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$95016ea2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:10:15,159 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:10:15,177 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:10:15,213 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:10:15,213 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:10:15,299 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:10:15,300 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2620 ms
2019-09-04 14:10:16,574 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:10:18,061 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:10:18,067 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:10:18,113 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:10:18,235 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:10:18,397 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:10:18,410 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 10.795 seconds (JVM running for 11.249)
2019-09-04 14:10:18,435 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:10:18,437 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:10:18,488 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 48 ms
2019-09-04 14:10:45,447 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:10:46,787 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: b1afda378ea5d24:23011afb8fad5ee3:b1afda378ea5d24:1 - ratingsDataService.requestService
2019-09-04 14:10:46,789 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: b1afda378ea5d24:b1afda378ea5d24:0:1 - /catalog/{userId}
2019-09-04 14:11:02,981 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: b1afda378ea5d24:2137506d44f8970e:b1afda378ea5d24:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:11:02,985 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:11:03,227 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: b1afda378ea5d24:ef8eda28d36ecc6c:b1afda378ea5d24:1 - movieInfoService.requestService
2019-09-04 14:11:03,233 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:11:03,233 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: b1afda378ea5d24:51a2572f683be88:b1afda378ea5d24:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:11:16,436 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:11:16,436 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: b1afda378ea5d24:7b121e795cec7e8f:b1afda378ea5d24:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:11:16,439 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:11:16,440 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:11:17,085 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:11:17,088 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:13:34,220 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2019-09-04 14:13:34,363 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(14)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:13:34,374 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:13:34,396 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:13:34,418 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:13:34,569 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:13:34,570 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:13:34,571 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:13:34,573 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:13:34,574 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:13:34,605 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:13:34,608 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:13:48,334 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5598ebc3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:13:48,470 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:13:50,704 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:13:50,740 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:13:50,740 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:13:50,742 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:13:50,758 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:13:51,774 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=36753e79-dcd7-37bb-9afb-adc348cb19f6
2019-09-04 14:13:52,016 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5598ebc3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:13:52,530 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:13:52,541 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:13:52,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:13:52,571 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:13:52,628 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:13:52,629 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1840 ms
2019-09-04 14:13:53,663 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:13:55,195 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:13:55,203 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:13:55,252 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:13:55,361 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:13:55,394 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:13:55,396 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 11.57 seconds (JVM running for 16.357)
2019-09-04 14:13:58,434 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:13:58,435 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:13:58,450 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 15 ms
2019-09-04 14:14:07,909 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:14:08,034 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 76f1e55773b6bde2:fe6bc6c9a992b95a:76f1e55773b6bde2:1 - ratingsDataService.requestService
2019-09-04 14:14:08,035 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 76f1e55773b6bde2:76f1e55773b6bde2:0:1 - /catalog/{userId}
2019-09-04 14:14:13,713 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 76f1e55773b6bde2:fdb8d15ba4497e51:76f1e55773b6bde2:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:14:13,716 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:14:13,809 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 76f1e55773b6bde2:125cec30a9d77722:76f1e55773b6bde2:1 - movieInfoService.requestService
2019-09-04 14:14:13,813 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:14:13,814 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 76f1e55773b6bde2:b6868297a22bfb02:76f1e55773b6bde2:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:14:18,856 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 76f1e55773b6bde2:93278768a9b78999:76f1e55773b6bde2:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:14:18,858 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:14:18,912 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 14:14:18,913 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:14:18,936 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:14:18,938 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:17:26,703 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2019-09-04 14:17:26,730 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(14)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:17:26,738 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:17:26,747 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:17:26,754 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:17:26,776 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:17:26,777 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:17:26,778 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:17:26,779 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:17:26,779 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:17:26,827 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:17:26,830 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:17:33,226 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$493edb20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:17:33,272 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:17:34,718 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:17:34,720 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:17:34,720 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:17:34,722 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:17:34,737 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:17:35,346 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=36753e79-dcd7-37bb-9afb-adc348cb19f6
2019-09-04 14:17:35,499 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$493edb20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:17:35,763 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:17:35,774 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:17:35,780 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:17:35,781 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:17:35,838 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:17:35,838 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1094 ms
2019-09-04 14:17:36,832 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:17:38,531 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:17:38,854 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:17:38,893 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:17:39,002 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:17:39,013 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:17:39,014 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.607 seconds (JVM running for 7.113)
2019-09-04 14:17:39,827 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:17:39,828 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:17:39,875 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 46 ms
2019-09-04 14:17:47,458 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:17:47,660 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: e1e7fe3627dfdba4:38fe1b02e9263b04:e1e7fe3627dfdba4:1 - ratingsDataService.requestService
2019-09-04 14:17:47,661 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: e1e7fe3627dfdba4:e1e7fe3627dfdba4:0:1 - /catalog/{userId}
2019-09-04 14:17:56,341 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: e1e7fe3627dfdba4:b7d00b028487058c:e1e7fe3627dfdba4:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:17:56,344 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:17:56,362 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: e1e7fe3627dfdba4:69158448376fa040:e1e7fe3627dfdba4:1 - movieInfoService.requestService
2019-09-04 14:17:56,367 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:17:56,367 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: e1e7fe3627dfdba4:a34f4237ad71d0c3:e1e7fe3627dfdba4:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:18:01,587 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: e1e7fe3627dfdba4:47ee09d141bd61cf:e1e7fe3627dfdba4:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:18:01,589 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:18:01,610 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:18:01,666 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 14:18:01,668 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:18:01,670 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:22:34,644 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 14:23:23,051 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(16)-127.0.0.1] Application shutdown requested.
2019-09-04 14:23:23,054 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(16)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:23:23,057 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:23:23,065 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:23:23,068 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:23:23,074 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:23:23,075 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:23:23,076 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:23:23,078 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:23:23,081 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:23:23,083 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:23:23,086 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:23:29,283 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b9bca6bb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:23:29,339 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:23:30,667 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:23:30,669 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:23:30,670 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:23:30,672 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:23:30,687 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:23:31,267 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=36753e79-dcd7-37bb-9afb-adc348cb19f6
2019-09-04 14:23:31,422 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$b9bca6bb] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:23:31,711 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:23:31,727 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:23:31,742 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:23:31,742 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:23:31,842 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:23:31,842 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1149 ms
2019-09-04 14:23:33,063 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:23:34,539 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:23:34,541 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:23:34,564 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:23:34,713 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:23:34,730 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:23:34,733 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.461 seconds (JVM running for 6.868)
2019-09-04 14:23:37,319 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:23:37,320 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:23:37,334 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 14 ms
2019-09-04 14:24:08,939 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:24:08,984 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: a562ee7108ed2bb1:2f26dd9a46b1e6f:a562ee7108ed2bb1:1 - ratingsDataService.requestService
2019-09-04 14:24:08,992 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: a562ee7108ed2bb1:a562ee7108ed2bb1:0:1 - /catalog/{userId}
2019-09-04 14:24:14,212 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: a562ee7108ed2bb1:efbd08650cd113e5:a562ee7108ed2bb1:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:24:14,215 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:24:14,227 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: a562ee7108ed2bb1:9127169e8f2d8dd5:a562ee7108ed2bb1:1 - movieInfoService.requestService
2019-09-04 14:24:14,231 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:24:14,232 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: a562ee7108ed2bb1:f1ad5c81f4477c2a:a562ee7108ed2bb1:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:24:19,721 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: a562ee7108ed2bb1:a7fc3cf30071fd63:a562ee7108ed2bb1:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:24:19,724 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:24:19,742 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:24:19,749 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:24:19,755 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:24:19,762 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 1234 and user test","desc":"Description","rating":3}]
2019-09-04 14:25:06,239 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2019-09-04 14:25:06,249 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(12)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:25:06,255 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:25:06,263 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:25:06,265 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:25:06,268 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:06,269 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:25:06,269 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:06,270 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:06,272 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:06,273 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:06,274 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:06,275 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:25:06,277 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:25:12,064 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c95ce399] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:25:12,114 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:25:13,526 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:25:13,530 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:25:13,531 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:25:13,533 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:25:13,557 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:25:14,339 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=36753e79-dcd7-37bb-9afb-adc348cb19f6
2019-09-04 14:25:14,487 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c95ce399] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:25:14,703 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:25:14,715 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:25:14,722 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:25:14,723 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:25:14,786 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:25:14,786 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1219 ms
2019-09-04 14:25:15,824 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:25:17,495 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:17,500 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:25:17,539 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:25:17,662 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:25:17,688 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:25:17,690 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.559 seconds (JVM running for 7.028)
2019-09-04 14:25:24,791 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:25:24,792 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:25:24,819 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 25 ms
2019-09-04 14:25:24,946 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:25:25,008 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 6e501862d7361fa5:c68eafd2e2c5c1da:6e501862d7361fa5:1 - ratingsDataService.requestService
2019-09-04 14:25:25,009 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 6e501862d7361fa5:6e501862d7361fa5:0:1 - /catalog/{userId}
2019-09-04 14:25:30,587 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 6e501862d7361fa5:baa3bde3b2393867:6e501862d7361fa5:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:25:30,591 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:25:30,603 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 6e501862d7361fa5:b7c673ba6eecbc61:6e501862d7361fa5:1 - movieInfoService.requestService
2019-09-04 14:25:30,606 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:25:30,609 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 6e501862d7361fa5:417c809541fed2f1:6e501862d7361fa5:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:25:35,682 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 6e501862d7361fa5:aa74b9339d3ba65e:6e501862d7361fa5:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:25:35,686 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:25:35,705 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:25:35,720 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 14:25:35,721 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:25:35,721 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:30:13,457 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 14:31:12,507 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(16)-127.0.0.1] Application shutdown requested.
2019-09-04 14:31:12,510 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(16)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:31:12,513 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:31:12,520 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:31:12,522 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:31:12,524 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:31:12,525 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:31:12,525 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:31:12,526 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:31:12,526 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:31:12,528 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:31:12,529 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:50:30,527 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$53c2428b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:50:30,593 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:50:32,089 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:50:32,092 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:50:32,093 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:50:32,094 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:50:32,109 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:50:32,756 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 14:50:32,915 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$53c2428b] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:50:33,158 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:50:33,170 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:50:33,177 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:50:33,177 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:50:33,240 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:50:33,240 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1124 ms
2019-09-04 14:50:34,133 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:50:35,701 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:50:35,706 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:50:35,735 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:50:35,826 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:50:35,837 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:50:35,839 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.098 seconds (JVM running for 6.478)
2019-09-04 14:50:40,639 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:50:40,640 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:50:40,672 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 31 ms
2019-09-04 14:50:40,690 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 14:50:40,777 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:50:40,832 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 25fb2aaa6ce4aabe:4e1b8e7926493aa:25fb2aaa6ce4aabe:1 - ratingsDataService.requestService
2019-09-04 14:50:40,842 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 25fb2aaa6ce4aabe:25fb2aaa6ce4aabe:0:1 - /catalog/{userId}
2019-09-04 14:50:46,012 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 25fb2aaa6ce4aabe:c1df18c8a68af294:25fb2aaa6ce4aabe:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:50:46,014 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:50:46,022 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 25fb2aaa6ce4aabe:aafb6b780ed32d94:25fb2aaa6ce4aabe:1 - movieInfoService.requestService
2019-09-04 14:50:46,026 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:50:46,027 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 25fb2aaa6ce4aabe:94104a16057eade9:25fb2aaa6ce4aabe:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:50:51,042 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 25fb2aaa6ce4aabe:2bc9ec7dac666472:25fb2aaa6ce4aabe:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:50:51,043 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:50:51,044 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:50:51,044 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:50:51,056 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:50:51,058 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:54:45,178 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(15)-127.0.0.1] Application shutdown requested.
2019-09-04 14:54:45,185 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(15)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:54:45,188 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:54:45,194 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:54:45,195 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:54:45,198 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:54:45,199 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:54:45,199 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:54:45,200 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:54:45,200 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:54:45,201 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:54:45,211 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:54:50,045 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$40e301be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:54:50,092 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:54:51,530 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:54:51,533 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:54:51,533 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:54:51,535 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:54:51,554 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:54:52,158 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 14:54:52,352 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$40e301be] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:54:52,687 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:54:52,702 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:54:52,714 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:54:52,715 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:54:52,799 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:54:52,800 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1239 ms
2019-09-04 14:54:53,944 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:54:55,489 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:54:55,491 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:54:55,514 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:54:55,644 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:54:55,655 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:54:55,657 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.586 seconds (JVM running for 7.039)
2019-09-04 14:55:02,595 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-3] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:55:02,596 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-3] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:55:02,609 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-3] Completed initialization in 13 ms
2019-09-04 14:55:02,618 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-3] Found correlationId in Header : 12345678
2019-09-04 14:55:02,685 INFO io.jaegertracing.Configuration [http-nio-8081-exec-3] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:55:02,757 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-3] Span reported: 580e3249110a7d5d:fedefc9fef194f87:580e3249110a7d5d:1 - ratingsDataService.requestService
2019-09-04 14:55:02,761 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-3] Span reported: 580e3249110a7d5d:580e3249110a7d5d:0:1 - /catalog/{userId}
2019-09-04 14:55:08,431 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 580e3249110a7d5d:8a461a6526952fd:580e3249110a7d5d:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:55:08,434 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:55:08,447 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 580e3249110a7d5d:9e4a47ae6cfca77b:580e3249110a7d5d:1 - movieInfoService.requestService
2019-09-04 14:55:08,451 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:55:08,451 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 580e3249110a7d5d:687e7de10ff2d3d0:580e3249110a7d5d:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:55:13,463 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 580e3249110a7d5d:4edd5d556ad7da:580e3249110a7d5d:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:55:13,466 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:55:13,486 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:55:13,487 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:55:13,494 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:55:13,499 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:56:50,812 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2019-09-04 14:56:50,822 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:56:50,828 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:56:50,835 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:56:50,837 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:56:50,841 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:56:50,842 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:56:50,843 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:56:50,843 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:56:50,844 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:56:50,845 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:56:50,845 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:56:50,847 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:56:50,850 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:56:56,415 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$afed098d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:56:56,471 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:56:57,942 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:56:57,945 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:56:57,946 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:56:57,947 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:56:57,964 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:56:58,588 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 14:56:58,754 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$afed098d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:56:59,018 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:56:59,028 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:56:59,035 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:56:59,036 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:56:59,099 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:56:59,099 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1129 ms
2019-09-04 14:57:00,023 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:57:01,449 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:01,454 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:01,492 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:57:01,586 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:57:01,596 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:57:01,598 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 5.987 seconds (JVM running for 6.774)
2019-09-04 14:57:06,541 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:57:06,543 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:57:06,563 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 20 ms
2019-09-04 14:57:06,577 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 14:57:06,676 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:57:06,716 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 69e632c14e028e71:df1d70f62c983193:69e632c14e028e71:1 - ratingsDataService.requestService
2019-09-04 14:57:06,717 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 69e632c14e028e71:69e632c14e028e71:0:1 - /catalog/{userId}
2019-09-04 14:57:11,943 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 69e632c14e028e71:23e0209d8e629dbb:69e632c14e028e71:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:57:11,947 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:57:11,962 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 69e632c14e028e71:931004cf466240b9:69e632c14e028e71:1 - movieInfoService.requestService
2019-09-04 14:57:11,965 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:57:11,966 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 69e632c14e028e71:4aa3ad95e964e43f:69e632c14e028e71:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:57:16,992 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 69e632c14e028e71:f59128eaac1fee81:69e632c14e028e71:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:57:16,994 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:57:17,014 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:57:17,099 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 14:57:17,101 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:57:17,104 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:57:26,576 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2019-09-04 14:57:26,581 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 14:57:26,588 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:57:26,595 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 14:57:26,596 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 14:57:26,599 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:26,601 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 14:57:26,603 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:26,604 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:26,605 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:26,606 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:26,607 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:26,610 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 14:57:26,613 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 14:57:30,956 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d33ac3e1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:57:31,047 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 14:57:32,343 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 14:57:32,346 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 14:57:32,347 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 14:57:32,349 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 14:57:32,370 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 14:57:33,261 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 14:57:33,447 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d33ac3e1] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 14:57:33,689 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 14:57:33,697 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 14:57:33,704 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 14:57:33,705 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 14:57:33,768 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 14:57:33,769 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1391 ms
2019-09-04 14:57:34,671 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 14:57:36,118 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:36,123 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 14:57:36,162 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 14:57:36,272 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 14:57:36,283 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 14:57:36,284 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.167 seconds (JVM running for 6.519)
2019-09-04 14:57:42,866 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 14:57:42,867 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2019-09-04 14:57:42,889 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 22 ms
2019-09-04 14:57:42,905 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 14:57:42,980 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 14:57:43,048 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 2be0a351c82b721c:eaabaa35633ecef0:2be0a351c82b721c:1 - ratingsDataService.requestService
2019-09-04 14:57:43,049 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 2be0a351c82b721c:2be0a351c82b721c:0:1 - /catalog/{userId}
2019-09-04 14:57:48,237 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 2be0a351c82b721c:d13ae7d419a8e80d:2be0a351c82b721c:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 14:57:48,238 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 14:57:48,243 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 2be0a351c82b721c:e2aa94c93fca71fc:2be0a351c82b721c:1 - movieInfoService.requestService
2019-09-04 14:57:48,245 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 14:57:48,245 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 2be0a351c82b721c:2dbf49a9ccfe07bd:2be0a351c82b721c:1 - ratingsDataService.handleResponseUserRating
2019-09-04 14:57:53,312 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 14:57:53,312 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 2be0a351c82b721c:3892f508dfc709dc:2be0a351c82b721c:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 14:57:53,313 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 14:57:53,313 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 14:57:53,328 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 14:57:53,334 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:02:32,275 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 15:04:25,891 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(17)-127.0.0.1] Application shutdown requested.
2019-09-04 15:04:25,897 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(17)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:04:25,904 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:04:25,911 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:04:25,913 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:04:25,917 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:04:25,918 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:04:25,919 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:04:25,920 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:04:25,921 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:04:25,923 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:04:25,926 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:04:31,184 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4aabd086] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:04:31,251 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:04:32,604 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:04:32,607 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:04:32,608 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:04:32,610 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:04:32,625 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:04:33,264 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 15:04:33,496 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4aabd086] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:04:33,849 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:04:33,863 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:04:33,870 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:04:33,871 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:04:33,959 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:04:33,959 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1328 ms
2019-09-04 15:04:35,230 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:04:36,932 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:04:36,947 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:04:37,038 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:04:37,294 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:04:37,354 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:04:37,356 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 7.128 seconds (JVM running for 7.584)
2019-09-04 15:04:58,148 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:04:58,149 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:04:58,178 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 29 ms
2019-09-04 15:04:58,206 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 15:04:58,582 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:04:58,717 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: fbee1ad6bc286127:dbda5fde16968c47:fbee1ad6bc286127:1 - ratingsDataService.requestService
2019-09-04 15:04:58,718 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: fbee1ad6bc286127:fbee1ad6bc286127:0:1 - /catalog/{userId}
2019-09-04 15:05:04,018 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: fbee1ad6bc286127:7ceef3abeec0862f:fbee1ad6bc286127:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:05:04,020 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:05:04,033 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: fbee1ad6bc286127:2703b349f2d7a724:fbee1ad6bc286127:1 - movieInfoService.requestService
2019-09-04 15:05:04,035 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:05:04,037 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: fbee1ad6bc286127:7bbb018d233c1aed:fbee1ad6bc286127:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:05:09,095 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: fbee1ad6bc286127:94fc86ef9fe6d4a7:fbee1ad6bc286127:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:05:09,097 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 15:05:09,102 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:05:09,103 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:05:09,130 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:05:09,133 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:06:20,606 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2019-09-04 15:06:20,610 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(12)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:06:20,614 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:06:20,621 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:06:20,623 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:06:20,626 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:06:20,627 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:06:20,628 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:06:20,629 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:06:20,630 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:06:20,631 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:06:20,632 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:06:20,635 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:06:20,638 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:16:05,995 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dc96538e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:16:06,048 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:16:07,908 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:16:07,910 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:16:07,911 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:16:07,912 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:16:07,929 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:16:08,580 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 15:16:08,735 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$dc96538e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:16:09,007 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:16:09,021 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:16:09,028 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:16:09,028 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:16:09,101 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:16:09,101 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1164 ms
2019-09-04 15:16:10,105 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:16:11,620 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:16:11,625 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:16:11,663 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:16:11,775 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:16:11,787 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:16:11,789 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 6.81 seconds (JVM running for 7.339)
2019-09-04 15:16:17,045 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:16:17,046 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:16:17,064 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 17 ms
2019-09-04 15:16:17,075 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 15:16:17,138 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:16:17,184 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 3a90f10dca4de44b:7cf9a58cb614e6fd:3a90f10dca4de44b:1 - ratingsDataService.requestService
2019-09-04 15:16:17,188 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 3a90f10dca4de44b:3a90f10dca4de44b:0:1 - /catalog/{userId}
2019-09-04 15:16:22,298 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 3a90f10dca4de44b:23dbef6102c85f2b:3a90f10dca4de44b:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:16:22,301 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:16:22,320 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 3a90f10dca4de44b:83ed317836932829:3a90f10dca4de44b:1 - movieInfoService.requestService
2019-09-04 15:16:22,323 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:16:22,324 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 3a90f10dca4de44b:f9fd3b0d362f19e:3a90f10dca4de44b:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:16:27,339 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 3a90f10dca4de44b:41e6ea374cfc38ea:3a90f10dca4de44b:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:16:27,343 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:16:27,362 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:16:27,364 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:16:27,376 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:16:27,378 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:21:07,835 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 15:35:22,332 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(30)-127.0.0.1] Application shutdown requested.
2019-09-04 15:35:22,367 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(30)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:35:22,383 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:35:22,442 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:35:22,469 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:35:22,507 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:35:22,508 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:35:22,509 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:35:22,509 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:35:22,510 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:35:22,524 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:35:22,548 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(30)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:35:33,868 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$14ffe0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:35:33,915 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:35:35,717 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:35:35,757 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:35:35,758 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:35:35,759 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:35:35,777 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:35:36,942 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=dca839be-ad74-3184-a552-fb31ea7ad11c
2019-09-04 15:35:37,182 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$14ffe0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:35:37,614 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:35:37,647 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:35:37,688 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:35:37,689 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:35:37,796 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:35:37,797 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2000 ms
2019-09-04 15:35:38,831 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:35:40,433 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:35:40,440 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:35:40,461 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:35:40,577 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:35:40,650 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:35:40,659 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 9.827 seconds (JVM running for 13.164)
2019-09-04 15:35:41,114 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:35:41,114 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:35:41,127 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 13 ms
2019-09-04 15:35:44,359 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 15:35:44,555 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:35:44,694 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 41b425cdc0292fe7:3c8c85daeed946fb:41b425cdc0292fe7:1 - ratingsDataService.requestService
2019-09-04 15:35:44,703 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 41b425cdc0292fe7:41b425cdc0292fe7:0:1 - /catalog/{userId}
2019-09-04 15:35:50,506 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 41b425cdc0292fe7:92dd9efc314b5551:41b425cdc0292fe7:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:35:50,509 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:35:50,521 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 41b425cdc0292fe7:d35b7d2bbe90eec9:41b425cdc0292fe7:1 - movieInfoService.requestService
2019-09-04 15:35:50,525 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:35:50,526 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 41b425cdc0292fe7:9ab5f9584c510e3b:41b425cdc0292fe7:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:35:55,537 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 41b425cdc0292fe7:22757dec37628c4a:41b425cdc0292fe7:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:35:55,540 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:35:55,564 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 15:35:55,566 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:35:55,583 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:35:55,586 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:36:30,366 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2019-09-04 15:36:30,376 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:36:30,381 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:36:30,389 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:36:30,392 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:36:30,396 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:36:30,397 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:36:30,397 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:36:30,398 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:36:30,399 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:36:30,405 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:36:30,405 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:36:30,407 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:36:30,410 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:38:44,222 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ff2698b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:38:44,290 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:38:46,071 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:38:46,091 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:38:46,092 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:38:46,093 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:38:46,109 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:38:46,830 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 15:38:47,122 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$ff2698b2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:38:47,421 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:38:47,431 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:38:47,438 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:38:47,438 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:38:47,525 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:38:47,526 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1411 ms
2019-09-04 15:38:48,494 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:38:49,979 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:38:49,985 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:38:50,033 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:38:50,194 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(3)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:38:50,194 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:38:50,241 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:38:50,244 INFO org.springframework.web.servlet.FrameworkServlet [RMI TCP Connection(3)-127.0.0.1] Completed initialization in 49 ms
2019-09-04 15:38:50,290 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:38:50,295 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 8.127 seconds (JVM running for 8.678)
2019-09-04 15:39:02,060 INFO br.com.clarobr.moviecatalogservice.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 15:39:02,291 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:39:02,348 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 66d1faf42900a3d5:cd138a0f6d45928c:66d1faf42900a3d5:1 - ratingsDataService.requestService
2019-09-04 15:39:02,352 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 66d1faf42900a3d5:66d1faf42900a3d5:0:1 - /catalog/{userId}
2019-09-04 15:39:07,749 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 66d1faf42900a3d5:9a11caa0c6df2601:66d1faf42900a3d5:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:39:07,753 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:39:07,764 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 66d1faf42900a3d5:e197ff7fab978572:66d1faf42900a3d5:1 - movieInfoService.requestService
2019-09-04 15:39:07,767 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:39:07,768 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 66d1faf42900a3d5:c9416f5a89eacf39:66d1faf42900a3d5:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:39:12,779 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 66d1faf42900a3d5:505c091148404b69:66d1faf42900a3d5:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:39:12,782 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:39:12,798 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 15:39:12,800 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:39:12,806 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:39:12,808 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:39:40,090 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(11)-127.0.0.1] Application shutdown requested.
2019-09-04 15:39:40,095 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(11)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:39:40,099 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:39:40,107 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:39:40,110 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:39:40,113 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:39:40,114 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:39:40,116 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:39:40,117 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:39:40,118 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:39:40,121 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:39:40,122 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:39:40,125 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:39:40,127 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:43:37,058 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$493edb20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:43:37,251 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:43:41,130 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:43:41,171 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:43:41,172 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:43:41,182 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:43:41,204 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:43:42,865 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 15:43:43,191 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$493edb20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:43:43,747 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:43:43,802 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:43:43,832 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:43:43,833 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:43:43,939 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:43:43,940 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2710 ms
2019-09-04 15:43:45,864 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:43:47,965 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:43:47,972 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:43:48,021 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:43:48,126 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:43:48,224 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:43:48,226 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 14.879 seconds (JVM running for 16.249)
2019-09-04 15:43:56,801 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:43:56,803 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:43:56,866 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 62 ms
2019-09-04 15:43:56,907 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 15:43:57,293 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:43:57,571 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 821d8e85845cd816:c5fe0f7523bab0b0:821d8e85845cd816:1 - ratingsDataService.requestService
2019-09-04 15:43:57,572 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 821d8e85845cd816:821d8e85845cd816:0:1 - /catalog/{userId}
2019-09-04 15:44:04,250 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 821d8e85845cd816:6c7d8d4d892aa1d:821d8e85845cd816:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:44:04,253 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:44:04,326 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 821d8e85845cd816:5977226d910c74c2:821d8e85845cd816:1 - movieInfoService.requestService
2019-09-04 15:44:04,327 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:44:04,328 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 821d8e85845cd816:2ec3fb646a607d53:821d8e85845cd816:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:44:05,429 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:311)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:69)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$24d1a6e2.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-04 15:44:05,430 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:311)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:69)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$24d1a6e2.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-04 15:44:05,431 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:44:05,431 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:46:01,404 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2019-09-04 15:46:01,774 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(14)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:46:01,786 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:46:01,796 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:46:01,855 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:46:02,043 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:46:02,045 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:46:02,047 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:46:02,050 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:46:02,051 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:46:02,091 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:46:02,093 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:46:26,909 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c61a3521] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:46:26,956 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:46:29,226 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:46:29,281 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:46:29,282 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:46:29,284 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:46:29,317 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:46:30,709 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=07dba51a-03b6-3ce3-bff4-ed7505715f16
2019-09-04 15:46:31,338 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$c61a3521] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:46:31,729 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:46:31,762 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:46:31,787 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:46:31,788 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:46:31,882 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:46:31,883 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2545 ms
2019-09-04 15:46:33,510 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:46:35,703 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:46:35,731 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:46:35,769 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:46:35,908 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:46:36,165 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:46:36,172 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 13.628 seconds (JVM running for 14.98)
2019-09-04 15:46:44,692 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:46:44,693 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:46:44,765 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 72 ms
2019-09-04 15:46:45,175 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:46:45,492 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: f6f28917958aa918:b7d01a48fea1c963:f6f28917958aa918:1 - ratingsDataService.requestService
2019-09-04 15:46:45,499 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: f6f28917958aa918:f6f28917958aa918:0:1 - /catalog/{userId}
2019-09-04 15:46:51,485 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: f6f28917958aa918:b6710148a5e16a0d:f6f28917958aa918:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:46:51,488 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:46:51,551 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: f6f28917958aa918:cb5b8e4dd8c9e637:f6f28917958aa918:1 - movieInfoService.requestService
2019-09-04 15:46:51,555 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:46:51,556 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: f6f28917958aa918:7cc1e1ff915f3c3d:f6f28917958aa918:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:46:52,640 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:311)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:69)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$8c392302.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-04 15:46:52,641 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:311)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:69)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$8c392302.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-04 15:46:52,643 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:46:52,643 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:48:54,640 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2019-09-04 15:48:54,782 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(14)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:48:54,836 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:48:54,888 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:48:54,909 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:48:55,081 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:48:55,084 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:48:55,088 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:48:55,092 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:48:55,097 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:48:55,193 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:48:55,231 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:49:15,978 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5e86d47e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:49:16,227 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:49:18,445 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:49:18,492 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:49:18,494 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:49:18,500 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:49:18,548 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:49:19,798 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 15:49:20,151 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$5e86d47e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:49:20,530 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:49:20,547 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:49:20,564 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:49:20,565 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:49:20,648 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:49:20,648 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2087 ms
2019-09-04 15:49:22,038 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:49:24,447 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:49:24,454 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:49:24,492 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:49:24,598 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:49:24,649 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:49:24,651 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 17.937 seconds (JVM running for 23.262)
2019-09-04 15:49:37,179 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:49:37,180 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:49:37,237 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 56 ms
2019-09-04 15:49:37,278 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 15:49:37,590 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:49:38,138 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 53b4b1bde754a935:eccc4908e0b6dadb:53b4b1bde754a935:1 - ratingsDataService.requestService
2019-09-04 15:49:38,139 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 53b4b1bde754a935:53b4b1bde754a935:0:1 - /catalog/{userId}
2019-09-04 15:49:47,096 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 53b4b1bde754a935:55e62fc819907c99:53b4b1bde754a935:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:49:47,100 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:49:47,119 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 53b4b1bde754a935:36fc58157902c56e:53b4b1bde754a935:1 - movieInfoService.requestService
2019-09-04 15:49:47,124 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:49:47,127 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 53b4b1bde754a935:e0b8dfcf1a3192aa:53b4b1bde754a935:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:49:48,152 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:311)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:69)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$27fdc40e.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-04 15:49:48,153 ERROR br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://movie-info-service-cluster-ip-service:8082/movies/5678": Connection refused (Connection refused); nested exception is java.net.ConnectException: Connection refused (Connection refused)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:744)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:670)
	at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:311)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector.requestMovieInfoService(MovieInfoServiceConnector.java:69)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$FastClassBySpringCGLIB$$68415304.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:749)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateCheckedSupplier$82a9021a$1(CircuitBreaker.java:414)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.executeCheckedSupplier(CircuitBreaker.java:223)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.defaultHandling(CircuitBreakerAspect.java:147)
	at io.github.resilience4j.circuitbreaker.configure.CircuitBreakerAspect.circuitBreakerAroundAdvice(CircuitBreakerAspect.java:86)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.bulkhead.Bulkhead.lambda$decorateCheckedSupplier$461fdbc9$1(Bulkhead.java:172)
	at io.github.resilience4j.bulkhead.Bulkhead.executeCheckedSupplier(Bulkhead.java:147)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.handleJoinPoint(BulkheadAspect.java:109)
	at io.github.resilience4j.bulkhead.configure.BulkheadAspect.bulkheadAroundAdvice(BulkheadAspect.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:88)
	at io.github.resilience4j.retry.Retry.lambda$decorateCheckedSupplier$3f69f149$1(Retry.java:114)
	at io.github.resilience4j.retry.configure.RetryAspect.handleDefaultJoinPoint(RetryAspect.java:145)
	at io.github.resilience4j.retry.configure.RetryAspect.retryAroundAdvice(RetryAspect.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:93)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at br.com.clarobr.moviecatalogservice.connectors.MovieInfoServiceConnector$$EnhancerBySpringCGLIB$$27fdc40e.requestMovieInfoService(<generated>)
	at io.github.resilience4j.circuitbreaker.CircuitBreaker.lambda$decorateSupplier$4(CircuitBreaker.java:536)
	at io.vavr.control.Try.of(Try.java:75)
	at io.vavr.control.Try.ofSupplier(Try.java:92)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.requestServiceCircuitBreaker(MovieInfoService.java:107)
	at br.com.clarobr.moviecatalogservice.services.MovieInfoService.lambda$requestService$1(MovieInfoService.java:83)
	at io.reactivex.internal.operators.observable.ObservableCreate.subscribeActual(ObservableCreate.java:40)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableDoOnEach.subscribeActual(ObservableDoOnEach.java:42)
	at io.reactivex.Observable.subscribe(Observable.java:12267)
	at io.reactivex.internal.operators.observable.ObservableSubscribeOn$SubscribeTask.run(ObservableSubscribeOn.java:96)
	at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)
	at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)
	at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at java.net.Socket.connect(Socket.java:538)
	at sun.net.NetworkClient.doConnect(NetworkClient.java:180)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:463)
	at sun.net.www.http.HttpClient.openServer(HttpClient.java:558)
	at sun.net.www.http.HttpClient.<init>(HttpClient.java:242)
	at sun.net.www.http.HttpClient.New(HttpClient.java:339)
	at sun.net.www.http.HttpClient.New(HttpClient.java:357)
	at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1226)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1162)
	at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1056)
	at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:990)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:735)
	... 70 more

2019-09-04 15:49:48,160 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:49:48,164 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:50:36,150 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-3] Found correlationId in Header : 12345678
2019-09-04 15:50:36,255 INFO io.jaegertracing.Configuration [http-nio-8081-exec-3] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:50:36,255 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-3] Span reported: 2c3ade19d97797de:52da6694b011f081:2c3ade19d97797de:1 - ratingsDataService.requestService
2019-09-04 15:50:36,256 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-3] Span reported: 2c3ade19d97797de:2c3ade19d97797de:0:1 - /catalog/{userId}
2019-09-04 15:50:41,755 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 2c3ade19d97797de:26c344700262bb47:2c3ade19d97797de:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:50:41,757 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-2] ratings-data-service were retrieved successfully.
2019-09-04 15:50:41,760 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 2c3ade19d97797de:7a6d968f306cae80:2c3ade19d97797de:1 - movieInfoService.requestService
2019-09-04 15:50:41,763 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:50:41,764 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 2c3ade19d97797de:de7ea728a91433cc:2c3ade19d97797de:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:50:49,030 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 2c3ade19d97797de:4062ea9c69778c76:2c3ade19d97797de:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:50:49,031 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:50:49,031 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:50:49,032 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:50:49,084 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:50:49,085 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:54:18,280 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 15:54:21,241 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(16)-127.0.0.1] Application shutdown requested.
2019-09-04 15:54:21,246 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(16)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:54:21,249 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:54:21,253 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:54:21,256 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:54:21,277 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:21,281 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:54:21,284 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:21,287 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:21,289 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:21,291 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:21,292 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:54:21,296 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:54:21,304 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(16)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:54:39,976 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d581cfc7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:54:40,034 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:54:42,596 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:54:42,629 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:54:42,630 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:54:42,632 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:54:42,655 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:54:43,339 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 15:54:43,557 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$d581cfc7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:54:43,786 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:54:43,795 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:54:43,803 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:54:43,803 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:54:43,876 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:54:43,876 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1214 ms
2019-09-04 15:54:45,096 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:54:47,130 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:47,138 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:54:47,180 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:54:47,550 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:54:47,582 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:54:47,584 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 14.851 seconds (JVM running for 15.412)
2019-09-04 15:54:56,646 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:54:56,646 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:54:56,711 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 64 ms
2019-09-04 15:54:56,739 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-1] Found correlationId in Header : 12345678
2019-09-04 15:54:56,832 INFO io.jaegertracing.Configuration [http-nio-8081-exec-1] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:54:57,143 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 28904c20db20d0d3:af103619a9523f79:28904c20db20d0d3:1 - ratingsDataService.requestService
2019-09-04 15:54:57,144 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-1] Span reported: 28904c20db20d0d3:28904c20db20d0d3:0:1 - /catalog/{userId}
2019-09-04 15:55:03,782 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 28904c20db20d0d3:7b25f09e3dc1dbce:28904c20db20d0d3:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:55:03,785 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:55:03,832 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 28904c20db20d0d3:7f980bfddac2367b:28904c20db20d0d3:1 - movieInfoService.requestService
2019-09-04 15:55:03,836 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:55:03,837 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 28904c20db20d0d3:1b83be798d0ab1b2:28904c20db20d0d3:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:55:09,070 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 28904c20db20d0d3:18ba19e96c201f8b:28904c20db20d0d3:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:55:09,072 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:55:09,075 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:55:09,075 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:55:09,167 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:55:09,171 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:56:56,571 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(15)-127.0.0.1] Application shutdown requested.
2019-09-04 15:56:56,597 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(15)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 15:56:56,602 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:56:56,617 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 15:56:56,650 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 15:56:56,699 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:56:56,702 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 15:56:56,704 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:56:56,706 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:56:56,707 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:56:56,709 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:56:56,712 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 15:56:56,725 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 15:56:56,731 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 15:57:12,508 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$233121c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:57:12,554 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 15:57:14,922 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 15:57:14,931 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 15:57:14,932 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 15:57:14,933 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 15:57:14,954 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 15:57:15,658 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 15:57:15,883 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$233121c0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 15:57:16,163 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 15:57:16,172 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 15:57:16,179 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 15:57:16,180 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 15:57:16,249 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 15:57:16,250 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1290 ms
2019-09-04 15:57:17,265 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 15:57:18,783 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:57:18,788 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 15:57:18,850 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 15:57:18,944 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 15:57:18,959 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 15:57:18,961 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 8.014 seconds (JVM running for 12.032)
2019-09-04 15:57:26,839 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 15:57:26,839 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 15:57:26,852 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 12 ms
2019-09-04 15:57:26,864 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 15:57:26,907 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 15:57:26,967 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: e9d3f389e1b6012:47dba050ae9fe8c6:e9d3f389e1b6012:1 - ratingsDataService.requestService
2019-09-04 15:57:26,968 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: e9d3f389e1b6012:e9d3f389e1b6012:0:1 - /catalog/{userId}
2019-09-04 15:57:32,436 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: e9d3f389e1b6012:5853acea2597c636:e9d3f389e1b6012:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 15:57:32,440 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 15:57:32,458 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: e9d3f389e1b6012:dbad9b15a20532f4:e9d3f389e1b6012:1 - movieInfoService.requestService
2019-09-04 15:57:32,466 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 15:57:32,467 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: e9d3f389e1b6012:cb3d7a20595fd722:e9d3f389e1b6012:1 - ratingsDataService.handleResponseUserRating
2019-09-04 15:57:37,486 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: e9d3f389e1b6012:349ca2136ec7faa2:e9d3f389e1b6012:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 15:57:37,490 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 15:57:37,492 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 15:57:37,497 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 15:57:37,524 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 15:57:37,526 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:02:14,775 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 16:02:18,263 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(15)-127.0.0.1] Application shutdown requested.
2019-09-04 16:02:18,270 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(15)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 16:02:18,274 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:02:18,284 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 16:02:18,288 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 16:02:18,293 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:02:18,294 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 16:02:18,295 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:02:18,298 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:02:18,301 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:02:18,304 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 16:02:18,308 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 16:02:25,474 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$66517674] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:02:25,539 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 16:02:27,412 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 16:02:27,415 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 16:02:27,415 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 16:02:27,417 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 16:02:27,434 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 16:02:28,032 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 16:02:28,183 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$66517674] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:02:28,420 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 16:02:28,430 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:02:28,437 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 16:02:28,438 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 16:02:28,498 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 16:02:28,498 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1058 ms
2019-09-04 16:02:29,419 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 16:02:31,433 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:02:31,439 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:02:31,480 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 16:02:31,596 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 16:02:31,626 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 16:02:31,628 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 7.41 seconds (JVM running for 8.324)
2019-09-04 16:02:37,529 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 16:02:37,539 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 16:02:37,559 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 19 ms
2019-09-04 16:02:37,571 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 16:02:37,652 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 16:02:37,725 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 9b7dfa49dc5180c8:7499f2381aae1279:9b7dfa49dc5180c8:1 - ratingsDataService.requestService
2019-09-04 16:02:37,727 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 9b7dfa49dc5180c8:9b7dfa49dc5180c8:0:1 - /catalog/{userId}
2019-09-04 16:02:42,954 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 9b7dfa49dc5180c8:9737924b9e31f0ac:9b7dfa49dc5180c8:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 16:02:42,961 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 16:02:42,973 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 9b7dfa49dc5180c8:8e7f8c1dc222c7ed:9b7dfa49dc5180c8:1 - movieInfoService.requestService
2019-09-04 16:02:42,977 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:02:42,978 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 9b7dfa49dc5180c8:5b1bdcb116e44307:9b7dfa49dc5180c8:1 - ratingsDataService.handleResponseUserRating
2019-09-04 16:02:47,999 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 9b7dfa49dc5180c8:66213fc452a8671b:9b7dfa49dc5180c8:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 16:02:48,000 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 16:02:48,002 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-2] Span has already been finished; will not be reported again.
2019-09-04 16:02:48,002 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 16:02:48,011 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:02:48,016 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:07:27,324 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 16:07:30,853 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(15)-127.0.0.1] Application shutdown requested.
2019-09-04 16:07:30,856 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(15)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 16:07:30,860 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:07:30,867 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 16:07:30,869 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 16:07:30,874 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:07:30,875 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 16:07:30,876 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:07:30,877 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:07:30,877 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:07:30,882 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 16:07:30,885 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(15)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 16:07:34,870 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$be5d7a5f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:07:34,941 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 16:07:36,766 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 16:07:36,769 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 16:07:36,769 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 16:07:36,771 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 16:07:36,790 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 16:07:37,403 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 16:07:37,566 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$be5d7a5f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:07:37,787 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 16:07:37,797 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:07:37,804 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 16:07:37,804 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 16:07:37,869 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 16:07:37,870 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1073 ms
2019-09-04 16:07:38,853 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 16:07:40,976 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:07:40,981 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:07:41,033 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 16:07:41,134 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 16:07:41,150 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 16:07:41,152 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 7.268 seconds (JVM running for 7.659)
2019-09-04 16:07:52,604 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 16:07:52,604 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 16:07:52,622 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 18 ms
2019-09-04 16:07:52,637 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 16:07:52,702 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 16:07:52,748 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: b7fff10ee121f452:dec0ce891f70dcef:b7fff10ee121f452:1 - ratingsDataService.requestService
2019-09-04 16:07:52,748 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: b7fff10ee121f452:b7fff10ee121f452:0:1 - /catalog/{userId}
2019-09-04 16:07:57,926 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: b7fff10ee121f452:353804740aadbf14:b7fff10ee121f452:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 16:07:57,930 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 16:07:57,943 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: b7fff10ee121f452:418419cae78a4ee5:b7fff10ee121f452:1 - movieInfoService.requestService
2019-09-04 16:07:57,948 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:07:57,948 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: b7fff10ee121f452:ba340e2cc8045af:b7fff10ee121f452:1 - ratingsDataService.handleResponseUserRating
2019-09-04 16:08:02,968 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: b7fff10ee121f452:8a2a17dd7b44b361:b7fff10ee121f452:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 16:08:02,970 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:08:02,971 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 16:08:02,972 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 16:08:03,015 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:08:03,018 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 1234 and user test","desc":"Description","rating":3}]
2019-09-04 16:12:36,698 WARN okhttp3.internal.platform.Platform [OkHttp ConnectionPool] A connection to https://35.225.5.157/ was leaked. Did you forget to close a response body? To see where this was allocated, set the OkHttpClient logger level to FINE: Logger.getLogger(OkHttpClient.class.getName()).setLevel(Level.FINE);
2019-09-04 16:15:14,408 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(19)-127.0.0.1] Application shutdown requested.
2019-09-04 16:15:14,524 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(19)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 16:15:14,632 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:15:15,015 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 16:15:15,453 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 16:15:16,835 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:15:16,836 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 16:15:16,837 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:15:16,838 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:15:16,839 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:15:17,123 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 16:15:17,126 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(19)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 16:20:38,334 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$95016ea2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:20:38,395 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 16:20:40,040 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 16:20:40,043 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 16:20:40,044 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 16:20:40,045 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 16:20:40,061 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 16:20:40,850 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 16:20:41,144 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$95016ea2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:20:41,527 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 16:20:41,542 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:20:41,551 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 16:20:41,552 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 16:20:41,647 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 16:20:41,647 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1580 ms
2019-09-04 16:20:42,844 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 16:20:44,955 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:20:44,957 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:20:44,981 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 16:20:45,107 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 16:20:45,117 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 16:20:45,119 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 8.157 seconds (JVM running for 8.961)
2019-09-04 16:21:25,654 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 16:21:25,654 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 16:21:25,666 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 12 ms
2019-09-04 16:21:25,689 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 16:21:25,734 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 16:21:25,907 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 406f61aa5e700e0c:5849d4dcdba422ce:406f61aa5e700e0c:1 - ratingsDataService.requestService
2019-09-04 16:21:25,910 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: 406f61aa5e700e0c:406f61aa5e700e0c:0:1 - /catalog/{userId}
2019-09-04 16:21:31,360 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: 406f61aa5e700e0c:68e859766208b6a2:406f61aa5e700e0c:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 16:21:31,362 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 16:21:31,371 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 406f61aa5e700e0c:e2a7327892a01c9:406f61aa5e700e0c:1 - movieInfoService.requestService
2019-09-04 16:21:31,373 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:21:31,374 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: 406f61aa5e700e0c:a4d2bf968aaa9334:406f61aa5e700e0c:1 - ratingsDataService.handleResponseUserRating
2019-09-04 16:21:36,551 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: 406f61aa5e700e0c:aa5a8f9f37c5b679:406f61aa5e700e0c:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 16:21:36,552 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 16:21:36,552 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:21:36,552 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 16:21:36,559 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:21:36,560 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:22:08,422 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(10)-127.0.0.1] Application shutdown requested.
2019-09-04 16:22:08,435 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(10)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 16:22:08,447 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:22:08,457 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 16:22:08,465 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 16:22:08,480 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:22:08,483 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 16:22:08,486 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:22:08,489 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:22:08,493 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:22:08,495 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:22:08,496 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:22:08,501 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 16:22:08,508 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
2019-09-04 16:35:33,108 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a410f882] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:35:33,178 WARN org.springframework.cloud.kubernetes.KubernetesAutoConfiguration [main] No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2019-09-04 16:35:35,863 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySource [main] Can't read configMap with name: [movie-catalog-service-config-map] in namespace:[null]. Ignoring
2019-09-04 16:35:35,900 WARN org.springframework.cloud.kubernetes.config.ConfigMapPropertySourceLocator [main] Configured input path: /home/poc_user/configs will be ignored because it does not exist on the file system
2019-09-04 16:35:35,902 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: CompositePropertySource {name='composite-configmap', propertySources=[ConfigMapPropertySource {name='configmap.movie-catalog-service-config-map.null'}]}
2019-09-04 16:35:35,911 INFO org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration [main] Located property source: SecretsPropertySource {name='secrets.movie-catalog-service-secret.null'}
2019-09-04 16:35:35,949 INFO org.springframework.boot.SpringApplication [main] No active profile set, falling back to default profiles: default
2019-09-04 16:35:38,027 INFO org.springframework.cloud.context.scope.GenericScope [main] BeanFactory id=e9650e3b-5813-3b72-812e-0b6b850f3fcd
2019-09-04 16:35:38,610 INFO org.springframework.context.support.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$a410f882] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-09-04 16:35:38,915 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8081 (http)
2019-09-04 16:35:38,924 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:35:38,931 INFO org.apache.juli.logging.DirectJDKLog [main] Starting service [Tomcat]
2019-09-04 16:35:38,932 INFO org.apache.juli.logging.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/9.0.21]
2019-09-04 16:35:39,006 INFO org.apache.juli.logging.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2019-09-04 16:35:39,007 INFO org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3042 ms
2019-09-04 16:35:40,856 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [main] Initializing ExecutorService 'applicationTaskExecutor'
2019-09-04 16:35:42,931 WARN io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2 [OkHttp https://35.225.5.157/...] Exec Failure: HTTP 401, Status: 401 - Unauthorized
java.net.ProtocolException: Expected HTTP 101 response but was '401 Unauthorized'
	at okhttp3.internal.ws.RealWebSocket.checkResponse(RealWebSocket.java:216)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:183)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:35:42,935 ERROR org.springframework.cloud.kubernetes.config.reload.EventBasedConfigurationChangeDetector [main] Error while establishing a connection to watch config maps: configuration may remain stale
io.fabric8.kubernetes.client.KubernetesClientException: Unauthorized
	at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2.onFailure(WatchConnectionManager.java:198)
	at okhttp3.internal.ws.RealWebSocket.failWebSocket(RealWebSocket.java:543)
	at okhttp3.internal.ws.RealWebSocket$2.onResponse(RealWebSocket.java:185)
	at okhttp3.RealCall$AsyncCall.execute(RealCall.java:141)
	at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
2019-09-04 16:35:42,971 INFO org.springframework.boot.actuate.endpoint.web.EndpointLinksResolver [main] Exposing 2 endpoint(s) beneath base path '/actuator'
2019-09-04 16:35:43,200 INFO org.apache.juli.logging.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8081"]
2019-09-04 16:35:43,249 INFO org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8081 (http) with context path ''
2019-09-04 16:35:43,251 INFO org.springframework.boot.StartupInfoLogger [main] Started MovieCatalogServiceApplication in 12.029 seconds (JVM running for 12.697)
2019-09-04 16:35:51,034 INFO org.apache.juli.logging.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2019-09-04 16:35:51,035 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2019-09-04 16:35:51,101 INFO org.springframework.web.servlet.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 66 ms
2019-09-04 16:35:51,152 INFO br.com.clarobr.moviecatalogservice.correlation.CorrelationHeaderFilter [http-nio-8081-exec-2] Found correlationId in Header : 12345678
2019-09-04 16:35:51,507 INFO io.jaegertracing.Configuration [http-nio-8081-exec-2] Initialized tracer=JaegerTracer(version=Java-0.34.0, serviceName=movie-catalog-service, reporter=CompositeReporter(reporters=[RemoteReporter(sender=UdpSender(), closeEnqueueTimeout=1000), LoggingReporter(logger=Logger[io.jaegertracing.internal.reporters.LoggingReporter])]), sampler=ConstSampler(decision=true, tags={sampler.type=const, sampler.param=true}), tags={hostname=localhost.localdomain, jaeger.version=Java-0.34.0, ip=127.0.0.1}, zipkinSharedRpcSpan=false, expandExceptionLogs=false, useTraceId128Bit=false)
2019-09-04 16:35:51,762 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: a273876e8355bdab:dbe093faade90c6:a273876e8355bdab:1 - ratingsDataService.requestService
2019-09-04 16:35:51,766 INFO io.jaegertracing.internal.reporters.LoggingReporter [http-nio-8081-exec-2] Span reported: a273876e8355bdab:a273876e8355bdab:0:1 - /catalog/{userId}
2019-09-04 16:35:57,653 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-1] Span reported: a273876e8355bdab:3b874a31ce3b68d2:a273876e8355bdab:1 - ratingsDataServiceConnector.requestRatingsDataService
2019-09-04 16:35:57,654 INFO br.com.clarobr.moviecatalogservice.services.RatingsDataService [RxCachedThreadScheduler-1] ratings-data-service were retrieved successfully.
2019-09-04 16:35:57,688 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: a273876e8355bdab:d5d5d118d572b5aa:a273876e8355bdab:1 - movieInfoService.requestService
2019-09-04 16:35:57,691 WARN io.jaegertracing.internal.JaegerSpan [RxSingleScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:35:57,691 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxSingleScheduler-1] Span reported: a273876e8355bdab:d647afc2a3947570:a273876e8355bdab:1 - ratingsDataService.handleResponseUserRating
2019-09-04 16:36:02,973 INFO io.jaegertracing.internal.reporters.LoggingReporter [RxCachedThreadScheduler-2] Span reported: a273876e8355bdab:85937074bf2b5693:a273876e8355bdab:1 - movieInfoServiceConnector.requestMovieInfoService
2019-09-04 16:36:02,974 WARN io.jaegertracing.internal.JaegerSpan [RxCachedThreadScheduler-1] Span has already been finished; will not be reported again.
2019-09-04 16:36:02,975 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-1] movie-info-service were retrieved successfully.
2019-09-04 16:36:02,975 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxCachedThreadScheduler-2] movie-info-service were retrieved successfully.
2019-09-04 16:36:03,163 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:36:03,165 INFO br.com.clarobr.moviecatalogservice.services.MovieInfoService [RxSingleScheduler-1] [{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4},{"name":"Name for movie with ID 5678 and user test","desc":"Description","rating":4}]
2019-09-04 16:36:17,420 INFO org.springframework.boot.admin.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(13)-127.0.0.1] Application shutdown requested.
2019-09-04 16:36:17,469 INFO org.springframework.scheduling.concurrent.ExecutorConfigurationSupport [RMI TCP Connection(13)-127.0.0.1] Shutting down ExecutorService 'applicationTaskExecutor'
2019-09-04 16:36:17,479 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Pausing ProtocolHandler ["http-nio-8081"]
2019-09-04 16:36:17,489 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Stopping service [Tomcat]
2019-09-04 16:36:17,492 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Destroying Spring FrameworkServlet 'dispatcherServlet'
2019-09-04 16:36:17,500 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-QueueProcessor] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ArrayBlockingQueue.take(ArrayBlockingQueue.java:403)
 io.jaegertracing.internal.reporters.RemoteReporter$QueueProcessor.run(RemoteReporter.java:173)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:36:17,501 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [jaeger.RemoteReporter-FlushTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.lang.Object.wait(Native Method)
 java.util.TimerThread.mainLoop(Timer.java:552)
 java.util.TimerThread.run(Timer.java:505)
2019-09-04 16:36:17,502 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSchedulerPurge-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:36:17,502 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedWorkerPoolEvictor-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:215)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2078)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1093)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:36:17,503 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:36:17,503 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxSingleScheduler-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:36:17,504 WARN org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] The web application [ROOT] appears to have started a thread named [RxCachedThreadScheduler-2] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1081)
 java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
 java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1074)
 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1134)
 java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
 java.lang.Thread.run(Thread.java:748)
2019-09-04 16:36:17,505 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8081"]
2019-09-04 16:36:17,508 INFO org.apache.juli.logging.DirectJDKLog [RMI TCP Connection(13)-127.0.0.1] Destroying ProtocolHandler ["http-nio-8081"]
